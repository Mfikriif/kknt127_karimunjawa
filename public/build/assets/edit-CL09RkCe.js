import{m as b,r as n,j as e,L as j,S as x}from"./app-C5qA5Vgc.js";import{A as f,a as y}from"./AdminSidebar-DI6EHV3J.js";function k({product:l}){const{data:t,setData:i,processing:u,errors:r}=b({name:l.name||"",category:l.category||"",type:l.type||"",description:l.description||"",link:l.link||"",gambar:null}),[d,m]=n.useState(null),[o,p]=n.useState("");n.useEffect(()=>{l.image&&m(`/storage/${l.image}`)},[l.image]);const h=a=>{var c;const s=(c=a.target.files)==null?void 0:c[0];s&&(i("gambar",s),m(URL.createObjectURL(s)),p(s.name))},g=a=>{a.preventDefault();const s=new FormData;s.append("name",t.name),s.append("category",t.category),s.append("type",t.type),s.append("description",t.description),s.append("link",t.link),t.gambar&&s.append("gambar",t.gambar),s.append("_method","PUT"),x.post(`/admin/products/${l.id}`,s,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{x.visit("/admin/products")}})};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Edit Produk"}),e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[e.jsx(f,{}),e.jsxs("div",{className:"ml-72 flex-1 flex flex-col",children:[e.jsx(y,{}),e.jsx("main",{className:"flex-1 p-6 md:p-10 overflow-auto bg-gray-100",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Edit Produk"}),e.jsxs("form",{onSubmit:g,encType:"multipart/form-data",className:"bg-white p-8 rounded-2xl shadow-xl space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Produk"}),e.jsx("input",{type:"text",value:t.name,onChange:a=>i("name",a.target.value),className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contoh: Rumput Laut Kering Premium"}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsxs("select",{value:t.category,onChange:a=>i("category",a.target.value),className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"-- Pilih Kategori --"}),e.jsx("option",{value:"rumput_laut",children:"Rumput Laut"}),e.jsx("option",{value:"ikan",children:"Ikan"}),e.jsx("option",{value:"Mete",children:"Mete"}),e.jsx("option",{value:"lainnya",children:"Lainnya"})]}),r.category&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipe Produk"}),e.jsxs("select",{value:t.type,onChange:a=>i("type",a.target.value),className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"-- Pilih Tipe --"}),e.jsx("option",{value:"mentah",children:"Mentah"}),e.jsx("option",{value:"olahan",children:"Olahan"})]}),r.type&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.type})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deskripsi"}),e.jsx("textarea",{value:t.description,onChange:a=>i("description",a.target.value),rows:4,className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tulis deskripsi produk secara lengkap..."}),r.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Produk"}),e.jsx("input",{type:"url",value:t.link,onChange:a=>i("link",a.target.value),className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://contoh.com"}),r.link&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.link})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ganti Gambar (Opsional)"}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[d&&e.jsx("img",{src:d,alt:"Preview Gambar",className:"h-20 w-20 object-cover rounded-md border"}),o&&e.jsx("p",{className:"text-gray-600 text-sm",children:o})]}),e.jsx("input",{type:"file",onChange:h,accept:"image/*",className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500"}),r.gambar&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.gambar})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",disabled:u,className:"bg-blue-900 hover:bg-blue-950 text-white font-medium px-6 py-2 rounded-md transition disabled:opacity-50",children:"Update"})})]})]})})]})]})]})}export{k as default};
