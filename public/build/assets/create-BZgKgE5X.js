import{r as p,j as a,S as x}from"./app-C5gRzlJC.js";import{A as b,a as j}from"./AdminSidebar-BqALlC2u.js";import{c}from"./createLucideIcon-B2SjCXf1.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],y=c("Plus",f);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],N=c("Save",v);function S(){const[o,m]=p.useState(""),[n,i]=p.useState([{tahap_ke:1,deskripsi_tahapan:"",gambar_tahapan:null,preview:""}]),d=(s,e,r)=>{const t=[...n];if(e==="gambar_tahapan"){const l=r,g=l?URL.createObjectURL(l):"";t[s]={...t[s],gambar_tahapan:l,preview:g}}else t[s]={...t[s],[e]:r};i(t)},h=()=>{i([...n,{tahap_ke:n.length+1,deskripsi_tahapan:"",gambar_tahapan:null,preview:""}])},u=s=>{s.preventDefault();const e=new FormData;e.append("judul",o),n.forEach((r,t)=>{e.append(`steps[${t}][tahap_ke]`,r.tahap_ke.toString()),e.append(`steps[${t}][deskripsi_tahapan]`,r.deskripsi_tahapan),r.gambar_tahapan&&e.append(`steps[${t}][gambar_tahapan]`,r.gambar_tahapan)}),x.post("/admin/processing-methods",e,{forceFormData:!0})};return a.jsxs("div",{className:"flex bg-gray-100 min-h-screen",children:[a.jsx(b,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(j,{}),a.jsxs("main",{className:"p-6 md:p-10",children:[a.jsx("div",{className:"max-w-3xl mx-auto mb-6",children:a.jsx("h1",{className:"text-4xl font-bold text-gray-600",children:"Tambah Metode Pengolahan"})}),a.jsx("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md",children:a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Judul Metode"}),a.jsx("input",{type:"text",value:o,onChange:s=>m(s.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan judul metode..."})]}),n.map((s,e)=>a.jsxs("div",{className:"border border-gray-200 bg-gray-50 rounded-lg p-5 shadow-sm",children:[a.jsxs("h2",{className:"font-semibold text-lg mb-4 text-gray-700",children:["🧩 Tahap ",e+1]}),a.jsx("input",{type:"hidden",value:s.tahap_ke}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Deskripsi Tahapan"}),a.jsx("textarea",{value:s.deskripsi_tahapan,onChange:r=>d(e,"deskripsi_tahapan",r.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 h-24 resize-y focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Deskripsikan tahapan ini..."})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Gambar Tahapan (opsional)"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm shadow-sm hover:bg-gray-100 transition",children:[a.jsx("span",{className:"text-gray-700",children:"📁 Choose File"}),a.jsx("input",{type:"file",accept:"image/*",onChange:r=>{var t;return d(e,"gambar_tahapan",((t=r.target.files)==null?void 0:t[0])||null)},className:"hidden"})]}),s.preview&&a.jsx("img",{src:s.preview,alt:`Preview Tahap ${e+1}`,className:"mt-3 rounded-md border w-48 h-auto object-cover"})]})]},e)),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{type:"button",onClick:h,className:"inline-flex items-center gap-2 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg shadow transition",children:[a.jsx(y,{className:"w-4 h-4"})," Tambah Step"]}),a.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow transition",children:[a.jsx(N,{className:"w-4 h-4"})," Simpan"]})]})]})})]})]})]})}export{S as default};
