import{r as n,j as e,L as T,$ as E,S as u}from"./app-rpAYq68g.js";import{U as I,I as z,E as B,a as H}from"./umkm-footer-B_DZN0sZ.js";import{U as R}from"./users-DHQb_mXy.js";import{S as J,F as q}from"./shopping-bag-BTNbXuow.js";import{S as k}from"./search-B38t6THQ.js";import{C as G}from"./clock-DP0gaX32.js";import{M as O}from"./map-pin-CM7cEP-P.js";import{P as Q,S as V}from"./star-BV4zbd61.js";import{C as W}from"./chevron-left-TxZkxS3I.js";import{C as X}from"./chevron-right-DlUvLhtX.js";import{F as Y}from"./filter-Df9LDsr7.js";import"./x-DraAK9FV.js";import"./createLucideIcon-BHl37ZrR.js";import"./menu-eqRAN02R.js";function me({umkms:p,categories:b,filters:o,currentCategory:D,current_category:S,search_query:A,stats:g}){var N,v;const M=D||S||"Semua",C=A||(o==null?void 0:o.search)||"",[x,_]=n.useState(C),[r,U]=n.useState(M),a=n.useMemo(()=>p||{data:[],meta:{current_page:1,last_page:1,from:0,to:0,total:0},links:[]},[p]),d=n.useMemo(()=>b||[],[b]),f=n.useMemo(()=>o||{},[o]),j=n.useMemo(()=>g||{total_umkm:a.data.length,total_products:0},[g,a]),$=t=>t.display_photos&&t.display_photos.length>0?{type:"photo",src:`/storage/umkm/display/${t.display_photos[0]}`,alt:t.name}:t.menu_photo?{type:"photo",src:`/storage/umkm/menu/${t.menu_photo}`,alt:`${t.name} - Menu`}:{type:"emoji",src:t.image||"🏪",alt:t.name},K=t=>{if(!t.opening_hours)return"08:00-17:00";const i=["minggu","senin","selasa","rabu","kamis","jumat","sabtu"][new Date().getDay()],l=t.opening_hours[i];return l&&l.is_open?`${l.open_time}-${l.close_time}`:"Tutup"},L=t=>Array.from({length:5},(s,i)=>e.jsx(V,{className:`w-4 h-4 ${i<t?"text-[#FFD700] fill-current":"text-white/30"}`},i)),P=t=>{t.preventDefault(),u.get("/umkm/list-umkm",{category:r,search:x},{preserveState:!0,preserveScroll:!0})},w=t=>{U(t),u.get("/umkm/list-umkm",{category:t,search:x},{preserveState:!0,preserveScroll:!0})},h=t=>{t&&u.get(t)},m=n.useMemo(()=>d.some(s=>s.name==="Semua")?d:[{name:"Semua",count:d.reduce((i,l)=>i+l.count,0)||a.data.length},...d],[d,a.data]);return e.jsxs(e.Fragment,{children:[e.jsx(T,{title:`UMKM ${r==="Semua"?"Semua Kategori":r} - Desa Kemujan`}),e.jsx(I,{activeMenu:"umkm-unggulan"}),e.jsxs("div",{className:"min-h-screen bg-[rgb(12,52,76)] pt-4",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 pt-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"UMKM Unggulan Desa Kemujan, Karimun Jawa"}),e.jsx("p",{className:"text-lg text-white/80 max-w-3xl mx-auto",children:"Berikut adalah usaha mikro, kecil, dan menengah terbaik di Desa Kemujan yang telah dipilih berdasarkan kualitas produk, pelayanan, dan kontribusi terhadap ekonomi lokal."})]}),e.jsxs("div",{className:"items-center justify-center grid grid-cols-2 md:grid-cols-2 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 text-center shadow-lg ",children:[e.jsx("div",{className:"w-12 h-12 bg-[#64FFDA]/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(R,{className:"w-6 h-6 text-[#64FFDA]"})}),e.jsxs("div",{className:"text-2xl font-bold text-[#64FFDA] mb-1",children:[j.total_umkm,"+"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Total UMKM"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 text-center shadow-lg ",children:[e.jsx("div",{className:"w-12 h-12 bg-[#64FFDA]/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:e.jsx(J,{className:"w-6 h-6 text-[#64FFDA]"})}),e.jsxs("div",{className:"text-2xl font-bold text-[#64FFDA] mb-1",children:[j.total_products,"+"]}),e.jsx("div",{className:"text-sm text-white/80",children:"Jenis Produk"})]})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl shadow-lg p-6 mb-8 ",children:e.jsx("div",{className:"flex flex-col lg:flex-row gap-6",children:e.jsx("div",{className:"flex-1",children:e.jsxs("form",{onSubmit:P,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:20}),e.jsx("input",{type:"text",value:x,onChange:t=>_(t.target.value),placeholder:"Cari UMKM berdasarkan nama, pemilik, atau produk...",className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-[#64FFDA] focus:border-transparent text-white placeholder-white/60 backdrop-blur-sm"})]}),e.jsxs("button",{type:"submit",className:"bg-[#64FFDA] text-[rgb(12,52,76)] px-6 py-3 rounded-lg transition-all duration-300 flex items-center gap-2 font-semibold hover:scale-105",children:[e.jsx(k,{size:20}),"Cari"]})]})})})}),m&&m.length>1&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"px-4 py-3",children:e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex justify-center gap-4 min-w-max mx-auto w-fit mt-4 mb-8 px-2",children:m.map(t=>e.jsxs("button",{onClick:()=>w(t.name),className:`group flex items-center space-x-3 px-6 py-3 rounded-full font-medium transition-all duration-300 shadow-lg backdrop-blur-md whitespace-nowrap ${r===t.name?"bg-[#64FFDA] text-[rgb(12,52,76)] border border-[#64FFDA] scale-105":"bg-white/10 text-white border border-white/20 hover:bg-white/15 hover:border-[#64FFDA]/40 hover:shadow-xl hover:shadow-[#64FFDA]/40"}`,children:[e.jsx("span",{className:"text-sm",children:t.name}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${r===t.name?"bg-[rgb(12,52,76)] text-[#64FFDA]":"bg-white/20 text-white"}`,children:t.count})]},t.name))})})}),e.jsx("div",{className:"md:hidden text-center mt-4",children:e.jsx("p",{className:"text-xs text-white/60",children:"← Geser untuk melihat kategori lainnya →"})})]}),e.jsx("div",{className:"mb-6 text-center",children:e.jsxs("p",{className:"text-white/80",children:["Menampilkan ",a.data.length," UMKM",r!=="Semua"&&` dalam kategori "${r}"`,f.search&&` untuk pencarian "${f.search}"`]})}),a.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:a.data.map(t=>{const s=$(t),i=K(t);return e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group flex flex-col h-full border border-white/20 hover:border-[#64FFDA]/40",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-white/5 to-white/10",children:[s.type==="photo"?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.src,alt:s.alt,className:"w-full h-full object-cover",onError:l=>{var F;const c=l.currentTarget;c.style.display="none";const y=(F=c.parentElement)==null?void 0:F.querySelector(".emoji-fallback");y&&y.classList.remove("hidden")}}),e.jsx("div",{className:"emoji-fallback hidden w-full h-full flex items-center justify-center absolute inset-0",children:e.jsx("span",{className:"text-6xl",children:t.image||"🏪"})})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-6xl",children:s.src})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:"Aktif"})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-gray-800 bg-white/90 text-gray-800 backdrop-blur-sm border border-gray-200",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),i]})})]}),e.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-bold text-white text-lg truncate group-hover:text-[#64FFDA] transition-colors",children:t.name}),e.jsx("p",{className:"text-sm text-white/80 truncate",children:t.owner}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[L(t.rating),e.jsxs("span",{className:"text-xs text-white/60 ml-1",children:["(",t.rating,")"]})]})]})}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"inline-block bg-[#64FFDA]/20 text-[#64FFDA] text-xs px-2 py-1 rounded-full font-medium border border-[#64FFDA]/30",children:t.category})}),e.jsx("div",{className:"mb-4 flex-shrink-0",children:e.jsx("p",{className:"text-white/70 text-sm leading-relaxed h-12 overflow-hidden",children:e.jsx("span",{className:"line-clamp-3",children:t.description})})}),e.jsxs("div",{className:"flex items-start space-x-2 mb-4 flex-shrink-0",children:[e.jsx(O,{className:"w-4 h-4 text-white/60 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-white/70 line-clamp-2 leading-relaxed",children:t.address})]}),e.jsxs("div",{className:"mb-4 flex-shrink-0",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Produk:"}),e.jsx("div",{className:"flex flex-wrap gap-1 min-h-[2rem]",children:t.products&&t.products.length>0?e.jsxs(e.Fragment,{children:[t.products.slice(0,3).map((l,c)=>e.jsx("span",{className:"inline-block bg-white/10 text-white text-xs px-2 py-1 rounded truncate max-w-[120px] border border-white/20",title:l,children:l},c)),t.products.length>3&&e.jsxs("span",{className:"inline-block bg-white/10 text-white text-xs px-2 py-1 rounded border border-white/20",children:["+",t.products.length-3," lainnya"]})]}):e.jsx("span",{className:"text-xs text-white/60",children:"Tidak ada produk tersedia"})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx(Q,{className:"w-4 h-4 text-white/60 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-white/70 truncate",children:t.contact})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0 ml-2",children:[t.instagram&&e.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:text-pink-300 transition-colors",children:e.jsx(z,{className:"w-4 h-4"})}),t.facebook&&e.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",children:e.jsx(q,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-white/20",children:e.jsxs("p",{className:"text-xs text-white/60",children:["Bergabung: ",new Date(t.created_at).toLocaleDateString("id-ID")]})})]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-sm px-6 py-4 mt-auto flex-shrink-0 border-t border-white/20",children:e.jsxs(E,{href:`/umkm/${t.id}`,className:"inline-flex items-center justify-center space-x-2 text-white hover:text-[#64FFDA] font-medium text-sm transition-colors w-full group",children:[e.jsx("span",{children:"Lihat Detail"}),e.jsx(B,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]},t.id)})}),a.links&&a.links.length>3&&e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg shadow-lg p-6 ",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-white/80",children:["Halaman ",((N=a.meta)==null?void 0:N.current_page)||1," dari ",((v=a.meta)==null?void 0:v.last_page)||1]}),e.jsx("div",{className:"flex items-center space-x-2",children:a.links.map((t,s)=>t.label.includes("Previous")?e.jsxs("button",{onClick:()=>t.url&&h(t.url),disabled:!t.url,className:`px-3 py-2 text-sm rounded-lg flex items-center space-x-1 transition-all duration-300 ${t.url?"bg-white/10 hover:bg-white/15 text-white border border-white/20 hover:border-[#64FFDA]/40":"bg-white/5 text-white/40 cursor-not-allowed border border-white/10"}`,children:[e.jsx(W,{size:16}),e.jsx("span",{children:"Sebelumnya"})]},s):t.label.includes("Next")?e.jsxs("button",{onClick:()=>t.url&&h(t.url),disabled:!t.url,className:`px-3 py-2 text-sm rounded-lg flex items-center space-x-1 transition-all duration-300 ${t.url?"bg-white/10 hover:bg-white/15 text-white border border-white/20 hover:border-[#64FFDA]/40":"bg-white/5 text-white/40 cursor-not-allowed border border-white/10"}`,children:[e.jsx("span",{children:"Selanjutnya"}),e.jsx(X,{size:16})]},s):t.label==="..."?e.jsx("span",{className:"px-3 py-2 text-white/60",children:"..."},s):e.jsx("button",{onClick:()=>t.url&&h(t.url),className:`px-3 py-2 text-sm rounded-lg transition-all duration-300 ${t.active?"bg-[#64FFDA] text-[rgb(12,52,76)] font-semibold":"bg-white/10 hover:bg-white/15 text-white border border-white/20 hover:border-[#64FFDA]/40"}`,children:t.label},s))})]})})]}):e.jsxs("div",{className:"text-center py-12 mb-12",children:[e.jsx("div",{className:"w-24 h-24 bg-white/10 border border-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:e.jsx(Y,{className:"w-12 h-12 text-white/60"})}),e.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:r!=="Semua"?`Tidak Ada UMKM dalam Kategori "${r}"`:"Belum Ada UMKM Unggulan"}),e.jsx("p",{className:"text-white/80 mb-6",children:r!=="Semua"?"Coba pilih kategori lain atau lihat semua UMKM.":"UMKM unggulan akan ditampilkan di sini setelah admin menambahkannya."}),e.jsx("button",{onClick:()=>w("Semua"),className:"group relative inline-flex items-center space-x-2 transform overflow-hidden rounded-lg border border-white/30 bg-white/5 px-6 py-3 text-white shadow-lg backdrop-blur-md transition-all duration-500 ease-in-out before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-br before:from-transparent before:via-transparent before:to-transparent before:opacity-0 before:transition-all before:duration-500 hover:scale-[1.03] hover:border-[#64FFDA] hover:shadow-[#64FFDA]/30 hover:before:from-[#64FFDA]/10 hover:before:to-transparent hover:before:opacity-100",children:r!=="Semua"?"Reset Filter":"Lihat Semua UMKM"})]})]}),e.jsx(H,{})]})]})}export{me as default};
