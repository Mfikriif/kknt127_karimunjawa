import{K as g,r as i,j as e,L as h,S as u}from"./app-D2KZFGHg.js";import{A as f,a as j}from"./AdminSidebar-Cv2YqllO.js";function w(){const r=g().props.hasilAlam,[s,d]=i.useState({nama:r.nama,deskripsi:r.deskripsi,kategori:r.kategori,gambar:null}),[m,o]=i.useState(null),[c,x]=i.useState("");i.useEffect(()=>{r.gambar&&o(`/storage/${r.gambar}`)},[r.gambar]);const n=t=>{const{name:a,value:l}=t.target;d({...s,[a]:l})},p=t=>{var l;const a=((l=t.target.files)==null?void 0:l[0])??null;d({...s,gambar:a}),o(a?URL.createObjectURL(a):m),x((a==null?void 0:a.name)??"")},b=t=>{t.preventDefault();const a=new FormData;a.append("nama",s.nama),a.append("deskripsi",s.deskripsi),a.append("kategori",s.kategori),s.gambar&&a.append("gambar",s.gambar),a.append("_method","PUT"),u.post(`/admin/hasil-alam/${r.id}`,a,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{u.visit("/admin/hasil-alam")}})};return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Edit Hasil Alam"}),e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[e.jsx(f,{}),e.jsxs("div",{className:"ml-72 flex-1 flex flex-col",children:[e.jsx(j,{}),e.jsx("main",{className:"flex-1 p-6 md:p-10 overflow-auto bg-gray-100",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Edit Hasil Alam"}),e.jsxs("form",{onSubmit:b,encType:"multipart/form-data",className:"bg-white p-8 rounded-2xl shadow-xl space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama"}),e.jsx("input",{type:"text",name:"nama",value:s.nama,onChange:n,className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contoh: Rumput Laut",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deskripsi"}),e.jsx("textarea",{name:"deskripsi",value:s.deskripsi,onChange:n,rows:4,className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tulis deskripsi hasil alam..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsxs("select",{name:"kategori",value:s.kategori,onChange:n,className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"laut",children:"Laut"}),e.jsx("option",{value:"darat",children:"Darat"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ganti Gambar (Opsional)"}),e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m&&e.jsx("img",{src:m,alt:"Preview",className:"h-20 w-20 object-cover rounded-md border"}),c&&e.jsx("p",{className:"text-gray-600 text-sm",children:c})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"w-full border-gray-300 rounded-md shadow-sm px-4 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"submit",className:"bg-blue-900 hover:bg-blue-950 text-white px-6 py-2 rounded-md font-medium transition",children:"Update"})})]})]})})]})]})]})}export{w as default};
